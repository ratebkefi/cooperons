<?php

namespace Apr\CorporateBundle\Repository;

use Doctrine\ORM\EntityRepository;

/**
 * CountryRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class CountryRepository extends EntityRepository
{

    /**
     * @return Array.
     */
    public function getCountryUE(){
        $queryUE= $this->createQueryBuilder('c');
        $queryUE
            ->andWhere('c.ue = :ue')
            ->andWhere('c.code != :fr')
            ->setParameter('ue', true)
            ->setParameter('fr', 'fr');


        $queryFR= $this->createQueryBuilder('c');
        $queryFR
            ->andWhere('c.code = :fr')
            ->setParameter('fr', 'fr');

        $result = $queryFR->getQuery()->getResult();
        $result = array_merge($result, $queryUE->getQuery()->getResult());

        return $result;
    }
    /**
     * @return Country = France.
     */
    public function getCountryFR(){

        return $this->findOneBy(array('code' => 'fr'));
    }
}

?>
